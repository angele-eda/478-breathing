<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Breath24 Test</title>

<style>
:root{
  --bg:#0b0f17;
  --text:#eaf0ff;
  --muted:#a9b4d0;
  --line:rgba(255,255,255,.12);
  --accent:rgba(126,231,194,.35);
}

*{box-sizing:border-box}
body{
  margin:0;
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial;
  background:
    radial-gradient(900px 500px at 30% 0%, rgba(126,231,194,.10), transparent 50%),
    var(--bg);
  color:var(--text);
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  min-height:100vh;
  text-align:center;
}

/* ===== 타이틀 ===== */
h1{
  margin-bottom:6px;
  font-weight:600;
}

p{
  margin-top:0;
  color:var(--muted);
}

/* ===== 원 ===== */
.circle-wrap{
  margin-top:40px;
  position:relative;
  width:260px;
  height:260px;
}

.circle{
  width:100%;
  height:100%;
  border-radius:50%;
  border:1.5px solid var(--line);
  display:flex;
  align-items:center;
  justify-content:center;
  flex-direction:column;
  transition: transform 4s linear, box-shadow 4s linear;
}

/* 글로우 효과 */
.circle.inhale{
  transform:scale(1.12);
  box-shadow:
    0 0 40px rgba(126,231,194,0.25),
    0 0 80px rgba(126,231,194,0.15);
}

.circle.exhale{
  transform:scale(1);
  box-shadow:
    0 0 10px rgba(126,231,194,0.08);
}

.circle.paused{
  box-shadow:none;
}

/* 숫자 */
.number{
  font-size:72px;
  font-weight:600;
}

.state{
  margin-top:8px;
  font-size:14px;
  color:var(--muted);
}

/* 버튼 */
button{
  margin-top:40px;
  padding:10px 18px;
  border-radius:12px;
  border:1px solid var(--line);
  background:rgba(255,255,255,.06);
  color:var(--text);
  cursor:pointer;
}

button:hover{
  background:rgba(255,255,255,.12);
}
</style>
</head>

<body>

<h1>4-7-8 Breathing</h1>
<p>Tap circle to start. Inhale 4 • Hold 7 • Exhale 8</p>

<div class="circle-wrap">
  <div class="circle paused" id="circle">
    <div class="number" id="num">4</div>
    <div class="state" id="state">Paused</div>
  </div>
</div>

<button onclick="toggle()">Start / Pause</button>

<script>
let running = false;
let phase = "inhale";
let timer;
let count = 4;

const circle = document.getElementById("circle");
const num = document.getElementById("num");
const stateText = document.getElementById("state");

function toggle(){
  running = !running;
  if(running){
    circle.classList.remove("paused");
    startPhase("inhale",4);
  }else{
    clearInterval(timer);
    circle.classList.add("paused");
    stateText.textContent="Paused";
  }
}

function startPhase(type,duration){
  phase = type;
  count = duration;
  num.textContent = count;
  stateText.textContent = type.toUpperCase();

  circle.classList.remove("inhale","exhale");
  circle.classList.add(type);

  clearInterval(timer);
  timer = setInterval(()=>{
    count--;
    num.textContent = count;
    if(count<=0){
      clearInterval(timer);
      nextPhase();
    }
  },1000);
}

function nextPhase(){
  if(!running) return;

  if(phase==="inhale"){
    startPhase("exhale",8);
  }else{
    startPhase("inhale",4);
  }
}
</script>

</body>
</html>